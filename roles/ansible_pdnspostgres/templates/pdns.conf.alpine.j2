#################################
# guardian      Run within a guardian process
#
guardian=yes

#################################
# launch        Which backends to launch and order to query them in
#
# launch=
launch={{ pdnsbackend }}
gpgsql-host={{ pdnsbackendip }}
gpgsql-dbname={{ pdnsbackenddbname }}
gpgsql-user={{ pdnsbackenddbuser }}
gpgsql-password={{ pdnsbackendpw }}
# enable api
api={{ pdnsapi }}
api-key={{ pdnsapikey }}

#################################
# lazy-recursion        Only recurse if question cannot be answered locally
#
# lazy-recursion=yes

#################################
# load-modules  Load this module - supply absolute or relative path
#
# load-modules=

#################################
# local-address Local IP addresses to which we bind
#
# local-address=0.0.0.0
local-address={{ pdnslistenip }}

#################################
# local-ipv6    Local IP address to which we bind
#
# local-ipv6=
local-ipv6={{ pdnslistenip6 }}

#################################
# local-port    The port on which we listen
#
local-port={{ pdnslistenport|default(53, true) }}

#################################
# log-dns-details       If PDNS should log DNS non-erroneous details
#
# log-dns-details=
log-dns-details = {{ pdnslogdnsdetails | default('no', true) }}
log-dns-queries = {{ pdnslogdnsqueries | default('no', true) }}

#################################
# logfile       Logfile to use (Windows only)
#
# logfile=pdns.log

#################################
# logging-facility      Log under a specific facility
#
# logging-facility=
logging-facility={{ pdnsloggingfacility }}

#################################
# loglevel      Amount of logging. Higher is more. Do not set below 3
#
loglevel={{ pdnsloglevel }}

#################################
# master        Act as a master
#
# master=no
master={{ pdnsmaster }}

#################################
# max-queue-length      Maximum queuelength before considering situation lost
#
# max-queue-length=5000

#################################
# max-tcp-connections   Maximum number of TCP connections
#
# max-tcp-connections=10

#################################
# module-dir    Default directory for modules
#
module-dir=/usr/lib/pdns/pdns

#################################
# negquery-cache-ttl    Seconds to store packets in the PacketCache
#
negquery-cache-ttl={{ pdnsnegttl }}

#################################
# no-shuffle    Set this to prevent random shuffling of answers - for regression testing
#
# no-shuffle=off

#################################
# out-of-zone-additional-processing     Do out of zone additional processing
#
# out-of-zone-additional-processing=yes

#################################
# pipebackend-abi-version       Version of the pipe backend ABI
#
# pipebackend-abi-version=1

#################################
# query-cache-ttl       Seconds to store packets in the PacketCache
#
# query-cache-ttl=20

#################################
# query-local-address   Source IP address for sending queries
#
# query-local-address=

#################################
# query-logging Hint backends that queries should be logged
#
# query-logging=no

#################################
# queue-limit   Maximum number of milliseconds to queue a query
#
# queue-limit=1500

#################################
# recursive-cache-ttl   Seconds to store packets in the PacketCache
#
# recursive-cache-ttl=10

#################################
# recursor      If recursion is desired, IP address of a recursing nameserver
#
# recursor=no

#################################
# send-root-referral    Send out old-fashioned root-referral instead of ServFail in case of no authority
#
# send-root-referral=no

#################################
# setgid        If set, change group id to this gid for more security
#
setgid={{ pdnssetgid }}

#################################
# setuid        If set, change user id to this uid for more security
#
setuid={{ pdnssetuid }}

#################################
# skip-cname    Do not perform CNAME indirection for each query
#
# skip-cname=no

#################################
# slave Act as a slave
#
# slave=no
slave={{ pdnsslave }}

#################################
# slave-cycle-interval  Reschedule failed SOA serial checks once every .. seconds
#
# slave-cycle-interval=60

#################################
# smtpredirector        Our smtpredir MX host
#
# smtpredirector=a.misconfigured.powerdns.smtp.server

#################################
# soa-expire-default    Default SOA expire
#
# soa-expire-default=604800

#################################
# soa-minimum-ttl       Default SOA mininum ttl
#
# soa-minimum-ttl=3600

#################################
# soa-refresh-default   Default SOA refresh
#
# soa-refresh-default=10800

#################################
# soa-retry-default     Default SOA retry
#
# soa-retry-default=3600

#################################
# soa-serial-offset     Make sure that no SOA serial is less than this number
#
# soa-serial-offset=0

#################################
# socket-dir    Where the controlsocket will live
#
socket-dir=/var/run

#################################
# strict-rfc-axfrs      Perform strictly rfc compliant axfrs (very slow)
#
# strict-rfc-axfrs=no

#################################
# trusted-notification-proxy    IP address of incoming notification proxy
#
# trusted-notification-proxy=

#################################
# urlredirector Where we send hosts to that need to be url redirected
#
# urlredirector=127.0.0.1

#################################
# use-logfile   Use a log file (Windows only)
#
#use-logfile=no

#################################
# version-string        PowerDNS version in packets - full, anonymous, powerdns or custom
#
# version-string=full

#################################
# webserver     Start a webserver for monitoring
#
webserver={{ pdnswebserver }}

#################################
# webserver-address     IP Address of webserver to listen on
#
# webserver-address=127.0.0.1
webserver-address={{ pdnswebserverip }}

#################################
# webserver-password    Password required for accessing the webserver
#
# webserver-password=
webserver-password={{ pdnswebserverpw }}

#################################
# webserver-port        Port of webserver to listen on
#
# webserver-port=8081
webserver-port={{ pdnswebserverport }}
webserver-allow-from={{ pdnswebserverallowfrom }}

#################################
# webserver-print-arguments     If the webserver should print arguments
#
# webserver-print-arguments=no

#################################
# wildcard-url  Process URL and MBOXFW records
#
# wildcard-url=no

#################################
# wildcards     Honor wildcards in the database
#
#wildcards=yes

#################################
# geoip-database-files Comma, tab or space separated list of files to open
#

#################################
# geoip-database-cache Specifies the kind of caching that is done on the database
#

#################################
# geoip-zones-file Specifies the full path of the zone configuration file to use
#

#################################
# geoip-dnssec-keydir Specifies the full path of a directory that will contain DNSSEC keys
#
#DNS Update
dnsupdate={{ pdnsupdate | default('no', true) }}
{% if pdnsupdatefrom is defined %}
allow-dnsupdate-from={{ pdnsupdatefrom | join(' ', true) }}"
{% endif %}
